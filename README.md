# Анализ и проектирование

Результаты анализа и проектирования доступны в папке docs.

1. [1-analyze.md](docs/1-analyze.md) - анализ системы
2. [2-microservices-arch.md](docs/2-microservices-arch.md) - проектирование микросервисов
3. [3-entity-relations.md](docs/3-entity-relations.md) - ER диаграмма
4. [4-api.md](docs/4-api.md) - описание API нескольких сервисов

# Запуск проекта для тестирования

```shell
docker compose up
```

Для экономии ресурсов СУБД PostgreSQL поднимается одна, но сервисы используют разные базы данных внутри этой СУБД.
При деплое на реальную инфраструктуру предполагается что у каждого сервиса будет своя СУБД PSQL и не будет влияния баз
данных разных сервисов друг на друга.

Для быстрого тестирования можно воспользоваться [requests-kong.http](requests-kong.http) из IDEA.

Заметки:

1. kong конфигурация выносит запросы телеметрии в /telemetry потому что с регулярками отказывается запускаться (говорит
   что нужны пути с ~/ в начале, но они именно такие, однако не работает)
2. почему-то регистрация нового устройства возвращает UUID не тот, который в базе данных сохраняется, но отлаживать это
   не стал уже (цель практики не в этом всё таки)
