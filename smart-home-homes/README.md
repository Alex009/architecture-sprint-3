# Микросервис Управления Домами

## Описание

Микросервис для управления домами пользователей. Он предоставляет функции для создания, получения, обновления и удаления
домов, а также для проверки доступа к ним на основе прав пользователя.

## Основные функции

- **Создание дома**: Пользователи могут создавать новые дома, указывая название и владельца.
- **Получение дома**: Возможность получения информации о доме по его идентификатору.
- **Обновление дома**: Пользователи могут обновлять информацию о доме.
- **Удаление дома**: Возможность удаления дома по его идентификатору.
- **Проверка доступа**: Определение, имеет ли пользователь доступ к конкретному дому (для других микросервисов).

## Правила авторизации

- **Аутентификация**: Для доступа к большинству эндпоинтов требуется JWT токен. Исключение составляют эндпоинты,
  начинающиеся с `/service/`, которые доступны без авторизации.
- **Авторизация**: Пользователь может получить доступ к дому, если он является владельцем этого дома или если ему явно
  предоставлен доступ.

## Настройка и запуск

1. **Docker**:
    - Убедитесь, что Docker и Docker Compose установлены на вашем компьютере.
    - Используйте предоставленный Dockerfile для создания образа приложения.
    - Запустите приложение с помощью Docker Compose для полного настроечного окружения с контейнером PostgreSQL.

2. **Запуск локально**:
    - Клонируйте репозиторий.
    - Соберите проект с помощью Maven или Gradle.
    - Запустите приложение через вашу IDE или с помощью команды `java -jar`.

## Тестирование

- В сервисе включен набор интеграционных тестов, использующих поддержку тестирования Spring Boot.
- Тесты используют в памяти базу данных PostgreSQL, предоставляемую Testcontainers.
- Для запуска тестов используйте команду `mvn test` или аналогичную команду вашего инструмента сборки.
